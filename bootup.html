<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Yasu OS - Boot Sequence</title>
  <style>
    :root {
      --win-blue: #0078d7;
    }

    body {
      margin: 0;
      background: #000;
      font-family: "Segoe UI", sans-serif;
      color: white;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      cursor: none; /* Hide cursor during boot */
    }

    /* --- PHASE 1: BIOS / POST --- */
    #biosContainer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      padding: 40px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      font-family: "Courier New", Courier, monospace;
      z-index: 10;
      background: black;
    }

    .bios-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 20px;
    }

    .manufacturer-logo {
      font-weight: bold;
      font-size: 24px;
      color: #fff;
      text-transform: uppercase;
      letter-spacing: 2px;
      border: 2px solid white;
      padding: 5px 10px;
    }

    .energy-star {
      width: 60px;
      height: auto;
      filter: grayscale(100%) brightness(2); /* Make it white */
    }

    #bootText {
      font-size: 14px;
      color: #ccc;
      white-space: pre-line;
      line-height: 1.4;
      height: 100%;
      overflow: hidden;
    }

    /* --- PHASE 2: WINDOWS BOOT --- */
    #osLoadContainer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: none; /* Hidden by default */
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #000;
      z-index: 5;
    }

    #threeCanvas {
      width: 300px;
      height: 300px;
      margin-bottom: 40px;
    }

    /* The Realistic Windows Dot Spinner */
    .loader-dots {
      position: relative;
      width: 60px;
      height: 60px;
      animation: rotate 4s infinite linear;
    }

    .dot {
      width: 8px;
      height: 8px;
      background: white;
      border-radius: 50%;
      position: absolute;
      display: block;
      opacity: 0;
      animation: dot-appear 4s infinite ease-in-out;
    }

    .dot:nth-child(1) { transform: rotate(0deg) translateX(30px); animation-delay: 0.0s; }
    .dot:nth-child(2) { transform: rotate(0deg) translateX(30px); animation-delay: 0.1s; }
    .dot:nth-child(3) { transform: rotate(0deg) translateX(30px); animation-delay: 0.2s; }
    .dot:nth-child(4) { transform: rotate(0deg) translateX(30px); animation-delay: 0.3s; }
    .dot:nth-child(5) { transform: rotate(0deg) translateX(30px); animation-delay: 0.4s; }

    @keyframes rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes dot-appear {
      0% { opacity: 0; transform: rotate(0deg) translateX(30px); }
      5% { opacity: 1; }
      25% { transform: rotate(180deg) translateX(30px); }
      75% { transform: rotate(320deg) translateX(30px); }
      100% { opacity: 0; transform: rotate(360deg) translateX(30px); }
    }

    /* --- PHASE 3: LOCK SCREEN --- */
    #lockScreen {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      /* Windows 11 Default Bloom Wallpaper approximation */
      background: url('https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2564&auto=format&fit=crop') no-repeat center center fixed;
      background-size: cover;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 1.5s ease-in;
      z-index: 1;
    }
    
    #lockContent {
      text-align: center;
      margin-bottom: 150px; /* Push clock up slightly */
      transform: translateY(20px);
      transition: transform 1.5s ease-out;
    }

    .lock-time {
      font-size: 96px;
      font-weight: 200;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    .lock-date {
      font-size: 28px;
      font-weight: 400;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    #loginPrompt {
      position: absolute;
      bottom: 50px;
      font-size: 14px;
      opacity: 0.8;
      animation: blinkPrompt 3s infinite ease-in-out;
    }

    @keyframes blinkPrompt {
      0%, 100% { opacity: 0.4; }
      50% { opacity: 1; }
    }

  </style>
</head>
<body>

  <div id="biosContainer">
    <div class="bios-header">
      <div class="manufacturer-logo">MAXWELL<span style="color:#0099ff">XCEL</span></div>
      <svg class="energy-star" viewBox="0 0 100 100" fill="white">
        <path d="M50 0 L61 35 L98 35 L68 57 L79 91 L50 70 L21 91 L32 57 L2 35 L39 35 Z" />
        <text x="10" y="95" font-size="12" fill="white" font-family="Arial">ENERGY STAR</text>
      </svg>
    </div>
    <div id="bootText"></div>
  </div>

  <div id="osLoadContainer">
    <div id="threeCanvas"></div>
    <div class="loader-dots">
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>
  </div>

  <div id="lockScreen">
    <div id="lockContent">
      <div class="lock-time" id="clockTime">12:00</div>
      <div class="lock-date" id="clockDate">Monday, January 1</div>
    </div>
    <div id="loginPrompt">Press Enter to Log In</div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.150.0/build/three.min.js"></script>
  <script>
    // --- CONFIG ---
    const redirectUrl = "operating-system.html";
    
    // --- DOM ELEMENTS ---
    const biosContainer = document.getElementById("biosContainer");
    const bootTextEl = document.getElementById("bootText");
    const osLoadContainer = document.getElementById("osLoadContainer");
    const lockScreen = document.getElementById("lockScreen");
    const lockContent = document.getElementById("lockContent");
    const clockTime = document.getElementById("clockTime");
    const clockDate = document.getElementById("clockDate");

    // --- BIOS SEQUENCE ---
    const biosLog = [
      "MAXWELL BIOS v3.14.15 (c) 2024 Maxwell Corp.",
      "CPU: Maxwell-Core i9-13900K @ 5.4GHz",
      "Memory: 64GB DDR5 6000MHz - OK",
      "Detecting NVMe Drives... Done.",
      "Drive 0: MAXWELL_SSD_2TB (2000GB)",
      "USB Controller... Initialized.",
      "ACPI: ACPI BIOS is present.",
      "Video BIOS: NVIDIA GeForce RTX 4090 initialized.",
      "Secure Boot: Enabled.",
      "TPM 2.0: Detected.",
      "Loading Bootloader...",
      "Verifying DMI Pool Data...",
      "Boot Mode: UEFI",
      "Success."
    ];

    let lineIndex = 0;

    function typeBios() {
      if (lineIndex < biosLog.length) {
        bootTextEl.textContent += biosLog[lineIndex] + "\n";
        lineIndex++;
        // Randomize typing speed for realism
        let speed = Math.random() * 100 + 50;
        if(lineIndex === 2) speed = 600; // Pause on Memory check
        if(lineIndex === 7) speed = 400; // Pause on GPU
        setTimeout(typeBios, speed);
      } else {
        // BIOS Done, trigger transition
        setTimeout(transitionToBoot, 800);
      }
    }

    // Start BIOS sequence immediately
    typeBios();

    // --- TRANSITIONS ---
    function transitionToBoot() {
      // Realism: A quick black flicker (resolution change)
      biosContainer.style.display = 'none';
      document.body.style.backgroundColor = 'black';
      
      setTimeout(() => {
        osLoadContainer.style.display = 'flex';
        initThree(); // Start the 3D logo render
        
        // Simulate OS Loading time
        setTimeout(transitionToLockScreen, 4000);
      }, 300); // 300ms black screen
    }

    function transitionToLockScreen() {
      osLoadContainer.style.opacity = '0';
      osLoadContainer.style.transition = 'opacity 0.5s ease';
      
      setTimeout(() => {
        osLoadContainer.style.display = 'none';
        document.body.style.cursor = 'default'; // Bring back cursor
        
        // Fade in Lock Screen
        lockScreen.style.opacity = '1';
        lockContent.style.transform = 'translateY(0)';
        
        // Setup live clock
        updateClock();
        setInterval(updateClock, 1000);
        
        // Enable Enter key
        window.addEventListener('keydown', handleEnterKey);
      }, 500);
    }

    function handleEnterKey(e) {
      if (e.key === "Enter") {
        // Realism: Slide up animation
        lockScreen.style.transition = "transform 0.8s cubic-bezier(0.16, 1, 0.3, 1)";
        lockScreen.style.transform = "translateY(-100%)";
        
        setTimeout(() => {
           window.location.href = redirectUrl;
        }, 800);
      }
    }

    function updateClock() {
      const now = new Date();
      const timeString = now.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit', hour12: true });
      const dateString = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric' });
      
      // Remove seconds from time string just in case
      clockTime.textContent = timeString;
      clockDate.textContent = dateString;
    }

    // --- THREE.JS LOGO (THE "WINDOW") ---
    function initThree() {
      const threeContainer = document.getElementById("threeCanvas");
      const scene = new THREE.Scene();
      
      // Camera setup
      const camera = new THREE.PerspectiveCamera(40, 1, 0.1, 1000);
      camera.position.set(0, 0, 30); // Closer camera for a cleaner look

      const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setSize(300, 300);
      renderer.setPixelRatio(window.devicePixelRatio);
      threeContainer.appendChild(renderer.domElement);

      // Lighting (Dynamic for metallic effect)
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
      scene.add(ambientLight);
      
      const pointLight = new THREE.PointLight(0x00aaff, 2, 50);
      pointLight.position.set(10, 10, 10);
      scene.add(pointLight);
      
      const pointLight2 = new THREE.PointLight(0xffffff, 1, 50);
      pointLight2.position.set(-10, -10, 10);
      scene.add(pointLight2);

      // Materials
      const material = new THREE.MeshStandardMaterial({ 
        color: 0x0099ff, 
        roughness: 0.3,
        metalness: 0.6,
        emissive: 0x001133,
        side: THREE.DoubleSide
      });
      
      const logoGroup = new THREE.Group();
      const size = 8;
      const gap = 0.8;
      const geometry = new THREE.PlaneGeometry(size, size);

      // 4 Panes of the window
      const p1 = new THREE.Mesh(geometry, material);
      p1.position.set(-size/2 - gap/2, size/2 + gap/2, 0);
      
      const p2 = new THREE.Mesh(geometry, material);
      p2.position.set(size/2 + gap/2, size/2 + gap/2, 0);
      
      const p3 = new THREE.Mesh(geometry, material);
      p3.position.set(-size/2 - gap/2, -size/2 - gap/2, 0);
      
      const p4 = new THREE.Mesh(geometry, material);
      p4.position.set(size/2 + gap/2, -size/2 - gap/2, 0);

      logoGroup.add(p1, p2, p3, p4);
      
      // Give it a slight "perspective" tilt typical of Win10 logo
      logoGroup.rotation.y = -0.2; 
      logoGroup.rotation.x = 0.1;
      
      scene.add(logoGroup);

      // Animation Loop
      const clock = new THREE.Clock();
      
      function animate() {
        requestAnimationFrame(animate);
        const t = clock.getElapsedTime();
        
        // Subtle breathing/floating effect instead of spinning
        logoGroup.position.y = Math.sin(t * 1.5) * 0.2;
        logoGroup.rotation.y = -0.2 + Math.sin(t * 0.5) * 0.05; // Subtle wobble

        // Light moves to create sheen
        pointLight.position.x = Math.sin(t) * 20;
        
        renderer.render(scene, camera);
      }

      animate();
    }
  </script>
</body>
</html>
